var kme;
(function(a){kme=window.kme||{};kme.nav=function(b){function c(){a("#menu-toggle").removeClass("bt-menu-open").addClass("bt-menu-close");a("#sidebar-wrapper").removeClass("active");a(".slide-menu section").unbind("click");a("body").removeClass("slide-menu")}function d(){a("#menu-toggle").removeClass("bt-menu-close").addClass("bt-menu-open");a("#sidebar-wrapper").addClass("active");a("body").addClass("slide-menu");a(".slide-menu section").click(function(){c()})}a(".sidebar-nav").onePageNav({currentClass:"active",changeHash:!1,
scrollSpeed:750,scrollOffset:0,scrollThreshold:0.5,easing:"easeOutExpo",filter:":not(.ex)",end:function(){c()}});var e=0;a("#sidebar-wrapper .sidebar-nav li a").each(function(){e+=1;a(this).css({"transition-delay":"0."+e+"s","-webkit-transition-delay":"0."+e+"s","-o-transition-delay":"0."+e+"s","-moz-transition-delay":"0."+e+"s"})});a("#menu-toggle").bind("click touchstart",function(b){b.preventDefault();a("#menu-toggle").hasClass("bt-menu-open")?c():d()});"touch"==b&&a("body").swipe({swipe:function(b,
d,e,f,l){"left"==d&&a("#menu-toggle").hasClass("bt-menu-open")&&c()},threshold:75,allowPageScroll:"vertical"})};kme.bootstrapCarousel=function(b){a.each(b,function(c,b){null!=b?a(c).carousel(b):a(c).carousel()})};kme.owlCarousel=function(b){a.each(b,function(b,d){null!=d?a(b).owlCarousel(d):a(b).owlCarousel()})};kme.portfolio=function(b,c){a(b).portfolioExpander(c)};/webkit.*mobile/i.test(navigator.userAgent)?a(".lightbox").nivoLightbox({effect:"nonexistent",afterHideLightbox:function(){a(".nivo-lightbox-content").empty()}}):
a(".lightbox").nivoLightbox({effect:"fall"});kme.knobs=function(b){"animated"==b&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?a(".knob").each(function(){var b=a(this),d=b.attr("rel");a(this).knob();a(this).val(d);b.val(Math.ceil(d)).trigger("change")}):a(".knob").waypoint(function(){var b=a(this),d=b.attr("rel");b.knob({});a({value:0}).animate({value:d},{duration:1E3,easing:"swing",step:function(){b.val(Math.ceil(this.value)).trigger("change")}})},{triggerOnce:!0,offset:function(){return a(window).height()-
a(this).outerHeight()}}))};kme.scrollTop=function(){a(window).width();var b=!1,c=a("#back-to-top");c.bind("click touchstart",function(b){a("body,html").animate({scrollTop:"0"},750,"easeOutExpo");b.preventDefault()});a(window).scroll(function(){b=!0});setInterval(function(){b&&(b=!1,1E3<a(window).scrollTop()?c.css("display","block"):c.css("display","none"))},250)};kme.contactForm=function(){a("#contact-submit").on("click touchstart",function(b){b.preventDefault();a("#contact-submit").html("<i class='fa fa-cog fa-spin'></i> SENDING").prop("disabled",
!0);b=a("#contact-form").serialize();a.ajax({type:"POST",url:"inc/contact.php",data:b,dataType:"json",success:function(b){b.status&&(a("#contact-form input").val(""),a("#contact-form textarea").val(""));a("#contact-form-response").empty().html(b.html);a("#contact-submit").html("<i class='fa fa-check'></i> SUBMIT").prop("disabled",!1)}});return!1})};kme.map=function(b){var c=a.extend({type:"color",selector:"map-container"},b);b=c.selector;var d={location:a("#"+b).attr("data-location"),infoBoxText:a("#"+
b).attr("data-text"),zoomLevel:a("#"+b).attr("data-zoom"),mapType:a("#"+b).attr("data-mapType"),format:'png32'};(function(a,b){var d=b.location,k="color"!=c.type?[{featureType:"all",elementType:"all",stylers:[{saturation:-100,invert_lightness:!0}]}]:[{featureType:"all",elementType:"all"}],f=new google.maps.Map(document.getElementById(a),{mapTypeId:google.maps.MapTypeId.mapType,scrollwheel:!1,draggable:!1,disableDefaultUI:!0,zoom:parseInt(b.zoomLevel),styles:k});google.maps.event.addDomListener(window,"resize",function(){var a=
f.getCenter();google.maps.event.trigger(f,"resize");f.setCenter(a)});(new google.maps.Geocoder).geocode({address:d},function(a,d){if(d==google.maps.GeocoderStatus.OK){var c=new google.maps.Marker({position:a[0].geometry.location,map:f,icon:"img/assets/map-marker.png"});f.setCenter(a[0].geometry.location);var e=document.createElement("div");e.innerHTML="<div class='infoBox'><div class='content'>"+b.infoBoxText+"</div></div>";var e={content:e,disableAutoPan:!1,pixelOffset:new google.maps.Size(30,0),
boxClass:"map-box",alignBottom:!0,pane:"floatPane"},g=new InfoBox(e);g.open(f,c);google.maps.event.addListener(c,"click",function(){g.open(f,c)})}})})(b,d)};/iPhone|iPad|iPod/i.test(navigator.userAgent)&&a(".background-middle-full").removeClass("fixed");kme.preloader=function(){a(window).load(function(){a("#preloader").fadeOut(800,function(){a("body").css("overflow","visible")})})};kme.scrollAnim=function(b){a(window).load(function(){if("yes"==b){var c=80;/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?
a(".animated").each(function(){a(this).css("visibility","visible")}):(c=100,a.fn.waypoint.defaults={context:window,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},a(".animated").waypoint(function(){var b=a(this),c=b.data("animation");if(!b.hasClass("visible")&&void 0!==b.attr("data-animation"))if(void 0!==b.attr("data-animation-delay")){var h=b.data("animation-delay");setTimeout(function(){b.addClass(c+" visible")},h)}else b.addClass(b.data("animation")+" visible")},{offset:c+"%"}))}else a(".animated").each(function(){a(this).css("visibility",
"visible")})})};kme.headSlider=function(b,c){a(window).load(function(){a(b).superslides(c)})}})(jQuery);